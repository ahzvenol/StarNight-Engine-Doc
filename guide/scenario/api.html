<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>StarNight Engine</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.png" type="image/png" sizes="16x16">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.f3e2e2a4.css" as="style"><link rel="preload" href="/assets/js/app.17999bae.js" as="script"><link rel="preload" href="/assets/js/2.81c34002.js" as="script"><link rel="preload" href="/assets/js/1.9918cdf1.js" as="script"><link rel="preload" href="/assets/js/29.57458f44.js" as="script"><link rel="prefetch" href="/assets/js/10.18e280b2.js"><link rel="prefetch" href="/assets/js/11.532fb960.js"><link rel="prefetch" href="/assets/js/12.67238036.js"><link rel="prefetch" href="/assets/js/13.d9bc12e0.js"><link rel="prefetch" href="/assets/js/14.c1e18cc4.js"><link rel="prefetch" href="/assets/js/15.fbba562b.js"><link rel="prefetch" href="/assets/js/16.4574fd2a.js"><link rel="prefetch" href="/assets/js/17.9e69dfdb.js"><link rel="prefetch" href="/assets/js/18.99e6bfc2.js"><link rel="prefetch" href="/assets/js/19.58d0e401.js"><link rel="prefetch" href="/assets/js/20.d718e0a8.js"><link rel="prefetch" href="/assets/js/21.4d2eb33f.js"><link rel="prefetch" href="/assets/js/22.b5caf49a.js"><link rel="prefetch" href="/assets/js/23.2a0ed5d0.js"><link rel="prefetch" href="/assets/js/24.e5e2c44d.js"><link rel="prefetch" href="/assets/js/25.a39b1eb7.js"><link rel="prefetch" href="/assets/js/26.1643b13e.js"><link rel="prefetch" href="/assets/js/27.c0de4b37.js"><link rel="prefetch" href="/assets/js/28.6565e750.js"><link rel="prefetch" href="/assets/js/3.244f0799.js"><link rel="prefetch" href="/assets/js/30.e7e606dd.js"><link rel="prefetch" href="/assets/js/31.4b8652a9.js"><link rel="prefetch" href="/assets/js/32.7690ef29.js"><link rel="prefetch" href="/assets/js/33.c0b56dce.js"><link rel="prefetch" href="/assets/js/34.2aef9a15.js"><link rel="prefetch" href="/assets/js/35.a95d57cf.js"><link rel="prefetch" href="/assets/js/4.db06a48d.js"><link rel="prefetch" href="/assets/js/5.caca6451.js"><link rel="prefetch" href="/assets/js/6.963cb6f5.js"><link rel="prefetch" href="/assets/js/7.f5c742a4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cc58001a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f3e2e2a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">StarNight Engine</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/preface.html" class="nav-link">
  基础使用
</a></div><div class="nav-item"><a href="/extend/script.html" class="nav-link">
  扩展定制
</a></div><div class="nav-item"><a href="/info/todo.html" class="nav-link">
  开发日志
</a></div><div class="nav-item"><a href="https://github.com/ahzvenol/StarNight-Engine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/preface.html" class="nav-link">
  基础使用
</a></div><div class="nav-item"><a href="/extend/script.html" class="nav-link">
  扩展定制
</a></div><div class="nav-item"><a href="/info/todo.html" class="nav-link">
  开发日志
</a></div><div class="nav-item"><a href="https://github.com/ahzvenol/StarNight-Engine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/preface.html" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/preface.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/guide/preface.html#优势特点" class="sidebar-link">优势特点</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>编写剧本</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/scenario/base.html" class="sidebar-link">基础入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/scenario/base.html#命令" class="sidebar-link">命令</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/base.html#对话" class="sidebar-link">对话</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/base.html#幕" class="sidebar-link">幕</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/base.html#剧本" class="sidebar-link">剧本</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/base.html#参数" class="sidebar-link">参数</a></li></ul></li><li><a href="/guide/scenario/tips.html" class="sidebar-link">实用技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/scenario/tips.html#智能提示" class="sidebar-link">智能提示</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/tips.html#快捷键" class="sidebar-link">快捷键</a></li></ul></li><li><a href="/guide/scenario/example.html" class="sidebar-link">参考示例</a></li><li><a href="/guide/scenario/api.html" aria-current="page" class="active sidebar-link">命令手册</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置背景" class="sidebar-link">设置背景</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置立绘" class="sidebar-link">设置立绘</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#添加动画" class="sidebar-link">添加动画</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#添加滤镜" class="sidebar-link">添加滤镜</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#动效动画" class="sidebar-link">动效动画</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#关闭图像" class="sidebar-link">关闭图像</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#清空立绘" class="sidebar-link">清空立绘</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置配乐" class="sidebar-link">设置配乐</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置音效" class="sidebar-link">设置音效</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置配音" class="sidebar-link">设置配音</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#设置音量" class="sidebar-link">设置音量</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#关闭音频" class="sidebar-link">关闭音频</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#转场动画" class="sidebar-link">转场动画</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#播放视频" class="sidebar-link">播放视频</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#用户输入" class="sidebar-link">用户输入</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#用户选择" class="sidebar-link">用户选择</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#用户点击" class="sidebar-link">用户点击</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#显示界面" class="sidebar-link">显示界面</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#允许点击" class="sidebar-link">允许点击</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#解锁鉴赏" class="sidebar-link">解锁鉴赏</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#解锁成就" class="sidebar-link">解锁成就</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#自动继续" class="sidebar-link">自动继续</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#系统计时" class="sidebar-link">系统计时</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#结束剧情" class="sidebar-link">结束剧情</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#嵌入页面" class="sidebar-link">嵌入页面</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#基本输入" class="sidebar-link">基本输入</a></li><li class="sidebar-sub-header"><a href="/guide/scenario/api.html#基本动画" class="sidebar-link">基本动画</a></li></ul></li><li><a href="/guide/scenario/code.html" class="sidebar-link">JavaScript 基础</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><a href="/guide/config.html" class="sidebar-link">自定义项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/config.html#鉴赏" class="sidebar-link">鉴赏</a></li><li class="sidebar-sub-header"><a href="/guide/config.html#默认设置" class="sidebar-link">默认设置</a></li><li class="sidebar-sub-header"><a href="/guide/config.html#游戏信息" class="sidebar-link">游戏信息</a></li></ul></li><li><a href="/guide/release.html" class="sidebar-link">发布游戏</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">注意</p> <p>本章节可按需查阅，编写剧本时可通过<a href="./tips#%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA">智能提示</a>获得与本章节相同的命令介绍、参数说明等完整信息。</p></div> <h2 id="设置背景"><a href="#设置背景" class="header-anchor">#</a> 设置背景</h2> <p>设置背景图片，使用 GSAP 实现，支持位置、缩放、滤镜等属性。</p> <p><strong>备注</strong></p> <ul><li>设置新背景时，不会继承先前设置的属性。</li> <li><code>持续时间</code> 仅控制背景图片的入场动画时长（淡入效果），其他属性（如位置、缩放、滤镜等）会立即应用。</li> <li>参数值支持数值或字符串（如 &quot;+=100&quot;），<code>+=</code> 表示相对于当前值的增量，但并非所有参数支持此相对值语法。</li></ul> <h3 id="使用演示"><a href="#使用演示" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置背景</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/咸鱼池塘.jpg&quot;</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token constant">X</span>坐标<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">120</span><span class="token punctuation">,</span> 模糊<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> 亮度<span class="token operator">:</span> <span class="token number">1.2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>背景图片的文件路径（必需）</td></tr> <tr><td>持续时间</td> <td>入场动画持续时间，单位毫秒（可选，默认 225）</td></tr> <tr><td>X 坐标</td> <td>横坐标（可选，默认 0）</td></tr> <tr><td>Y 坐标</td> <td>纵坐标（可选，默认 0）</td></tr> <tr><td>宽度</td> <td>图片宽度（可选，默认图片自身宽度）</td></tr> <tr><td>高度</td> <td>图片高度（可选，默认图片自身高度）</td></tr> <tr><td>X 轴缩放</td> <td>横轴缩放比例（可选，默认 1）</td></tr> <tr><td>Y 轴缩放</td> <td>纵轴缩放比例（可选，默认 1）</td></tr> <tr><td>旋转角度</td> <td>图片旋转角度，单位为度（可选）</td></tr> <tr><td>斜切</td> <td>整体斜切变换（可选）</td></tr> <tr><td>X 轴斜切</td> <td>横轴斜切变换（可选）</td></tr> <tr><td>Y 轴斜切</td> <td>纵轴斜切变换（可选）</td></tr> <tr><td>中心点</td> <td>图片整体变换的基准点（可选）</td></tr> <tr><td>X 轴中心点</td> <td>横轴变换的基准点（可选）</td></tr> <tr><td>Y 轴中心点</td> <td>纵轴变换的基准点（可选）</td></tr> <tr><td>锚点</td> <td>图片整体纹理的锚点，范围 0 到 1（可选）</td></tr> <tr><td>X 轴锚点</td> <td>横轴纹理的锚点（可选）</td></tr> <tr><td>Y 轴锚点</td> <td>纵轴纹理的锚点（可选）</td></tr> <tr><td>模糊</td> <td>整体模糊效果强度（可选）</td></tr> <tr><td>横向模糊</td> <td>横向模糊效果强度（可选）</td></tr> <tr><td>纵向模糊</td> <td>纵向模糊效果强度（可选）</td></tr> <tr><td>模糊边距</td> <td>模糊效果的边距（可选）</td></tr> <tr><td>亮度</td> <td>亮度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>对比度</td> <td>对比度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>色相</td> <td>色相调整，单位为度（可选，0 为无调整）</td></tr> <tr><td>饱和度</td> <td>饱和度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>着色</td> <td>着色效果，接受颜色值（如 &quot;#ff0000&quot; 或 0xff0000）（可选）</td></tr> <tr><td>着色强度</td> <td>着色效果强度，范围 0 到 1（可选，0 为无着色，1 为完全着色）</td></tr> <tr><td>颜色矩阵滤镜</td> <td>自定义颜色矩阵滤镜对象（可选）</td></tr> <tr><td>合并颜色矩阵</td> <td>是否合并颜色矩阵滤镜（可选，默认 false）</td></tr> <tr><td>变换矩阵</td> <td>自定义变换矩阵，类型为 PixiPlugin.PixiMatrix（可选）</td></tr></tbody></table> <h2 id="设置立绘"><a href="#设置立绘" class="header-anchor">#</a> 设置立绘</h2> <p>设置角色立绘图片，使用 GSAP 实现，支持位置、缩放、滤镜等属性。</p> <p><strong>备注</strong></p> <ul><li>为同一标识符设置新立绘时，会继承先前设置的属性。</li> <li>多次为同一标识符设置新立绘时，应确保之前的入场动画已完成，以避免亮度异常的错误。</li> <li><code>持续时间</code> 仅控制立绘图片的入场动画时长（淡入效果），其他属性（如位置、缩放、滤镜等）会立即应用。</li> <li>参数值支持数值或字符串（如 &quot;+=100&quot;），<code>+=</code> 表示相对于当前值的增量，但并非所有参数支持此相对值语法。</li></ul> <h3 id="使用演示-2"><a href="#使用演示-2" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置立绘</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 标识符<span class="token operator">:</span> <span class="token string">&quot;咸鱼&quot;</span><span class="token punctuation">,</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/saltfish/fish.jpg&quot;</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token constant">X</span>坐标<span class="token operator">:</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token constant">Y</span>坐标<span class="token operator">:</span> <span class="token number">640</span><span class="token punctuation">,</span> 模糊<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>标识符</td> <td>立绘的标识符，用于后续操作（必需）</td></tr> <tr><td>资源路径</td> <td>立绘图片的文件路径（必需）</td></tr> <tr><td>持续时间</td> <td>入场动画持续时间，单位毫秒（可选，默认 225）</td></tr> <tr><td>图层高度</td> <td>立绘的图层高度，控制遮挡关系，值越大越靠前显示（可选，默认 1）</td></tr> <tr><td>X 坐标</td> <td>横坐标（可选，默认 0）</td></tr> <tr><td>Y 坐标</td> <td>纵坐标（可选，默认 0）</td></tr> <tr><td>宽度</td> <td>图片宽度（可选，默认图片自身宽度）</td></tr> <tr><td>高度</td> <td>图片高度（可选，默认图片自身高度）</td></tr> <tr><td>X 轴缩放</td> <td>横轴缩放比例（可选，默认 1）</td></tr> <tr><td>Y 轴缩放</td> <td>纵轴缩放比例（可选，默认 1）</td></tr> <tr><td>旋转角度</td> <td>图片旋转角度，单位为度（可选）</td></tr> <tr><td>斜切</td> <td>整体斜切变换（可选）</td></tr> <tr><td>X 轴斜切</td> <td>横轴斜切变换（可选）</td></tr> <tr><td>Y 轴斜切</td> <td>纵轴斜切变换（可选）</td></tr> <tr><td>中心点</td> <td>图片整体变换的基准点（可选）</td></tr> <tr><td>X 轴中心点</td> <td>横轴变换的基准点（可选）</td></tr> <tr><td>Y 轴中心点</td> <td>纵轴变换的基准点（可选）</td></tr> <tr><td>锚点</td> <td>图片整体纹理的锚点，范围 0 到 1（可选）</td></tr> <tr><td>X 轴锚点</td> <td>横轴纹理的锚点（可选）</td></tr> <tr><td>Y 轴锚点</td> <td>纵轴纹理的锚点（可选）</td></tr> <tr><td>模糊</td> <td>整体模糊效果强度（可选）</td></tr> <tr><td>横向模糊</td> <td>横向模糊效果强度（可选）</td></tr> <tr><td>纵向模糊</td> <td>纵向模糊效果强度（可选）</td></tr> <tr><td>模糊边距</td> <td>模糊效果的边距（可选）</td></tr> <tr><td>亮度</td> <td>亮度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>对比度</td> <td>对比度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>色相</td> <td>色相调整，单位为度（可选，0 为无调整）</td></tr> <tr><td>饱和度</td> <td>饱和度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>着色</td> <td>着色效果，接受颜色值（如 &quot;#ff0000&quot; 或 0xff0000）（可选）</td></tr> <tr><td>着色强度</td> <td>着色效果强度，范围 0 到 1（可选，0 为无着色，1 为完全着色）</td></tr> <tr><td>颜色矩阵滤镜</td> <td>自定义颜色矩阵滤镜对象（可选）</td></tr> <tr><td>合并颜色矩阵</td> <td>是否合并颜色矩阵滤镜（可选，默认 false）</td></tr> <tr><td>变换矩阵</td> <td>自定义变换矩阵，类型为 PixiPlugin.PixiMatrix（可选）</td></tr></tbody></table> <h2 id="添加动画"><a href="#添加动画" class="header-anchor">#</a> 添加动画</h2> <p>为指定目标添加动画效果，使用 GSAP 实现，支持位置、缩放、滤镜等属性。</p> <p><strong>备注</strong></p> <ul><li>针对同一目标的多个动画将按顺序执行，前一个动画完成后触发后一个动画。</li> <li>可访问 <a href="https://gsap.com/docs/v3/Eases/CustomEase" target="_blank" rel="noopener noreferrer">GSAP 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 查看 GSAP 缓动预设或创建自定义缓动曲线。</li> <li>参数值支持数值或字符串（如 &quot;+=100&quot;），<code>+=</code> 表示相对于当前值的增量，但并非所有参数支持此相对值语法。</li></ul> <h3 id="使用演示-3"><a href="#使用演示-3" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">添加动画</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;咸鱼&quot;</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token constant">X</span>坐标<span class="token operator">:</span> <span class="token string">&quot;+=100&quot;</span><span class="token punctuation">,</span> <span class="token constant">Y</span>坐标<span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span> 缓动函数<span class="token operator">:</span> <span class="token string">&quot;M0,0,C0,0,1,1,1,1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>动画应用的目标标识符，舞台的标识符为 0，背景的标识符为 1（必需）</td></tr> <tr><td>持续时间</td> <td>动画持续时间，单位毫秒（可选，默认 0，无动画）</td></tr> <tr><td>重复次数</td> <td>动画重复播放的次数（可选，-1 为无限循环）</td></tr> <tr><td>往返播放</td> <td>是否在动画完成后反向播放（可选，默认 false）</td></tr> <tr><td>缓动函数</td> <td>动画缓动函数，支持 GSAP 缓动预设、缓动曲线或函数（可选，默认 &quot;none&quot;）</td></tr> <tr><td>继承</td> <td>是否在切换图像后继承当前动画属性（可选，默认 true）</td></tr> <tr><td>X 坐标</td> <td>横坐标（可选，默认 0）</td></tr> <tr><td>Y 坐标</td> <td>纵坐标（可选，默认 0）</td></tr> <tr><td>宽度</td> <td>图片宽度（可选，默认图片自身宽度）</td></tr> <tr><td>高度</td> <td>图片高度（可选，默认图片自身高度）</td></tr> <tr><td>X 轴缩放</td> <td>横轴缩放比例（可选，默认 1）</td></tr> <tr><td>Y 轴缩放</td> <td>纵轴缩放比例（可选，默认 1）</td></tr> <tr><td>旋转角度</td> <td>图片旋转角度，单位为度（可选）</td></tr> <tr><td>斜切</td> <td>整体斜切变换（可选）</td></tr> <tr><td>X 轴斜切</td> <td>横轴斜切变换（可选）</td></tr> <tr><td>Y 轴斜切</td> <td>纵轴斜切变换（可选）</td></tr> <tr><td>中心点</td> <td>图片整体变换的基准点（可选）</td></tr> <tr><td>X 轴中心点</td> <td>横轴变换的基准点（可选）</td></tr> <tr><td>Y 轴中心点</td> <td>纵轴变换的基准点（可选）</td></tr> <tr><td>锚点</td> <td>图片整体纹理的锚点，范围 0 到 1（可选）</td></tr> <tr><td>X 轴锚点</td> <td>横轴纹理的锚点（可选）</td></tr> <tr><td>Y 轴锚点</td> <td>纵轴纹理的锚点（可选）</td></tr> <tr><td>模糊</td> <td>整体模糊效果强度（可选）</td></tr> <tr><td>横向模糊</td> <td>横向模糊效果强度（可选）</td></tr> <tr><td>纵向模糊</td> <td>纵向模糊效果强度（可选）</td></tr> <tr><td>模糊边距</td> <td>模糊效果的边距（可选）</td></tr> <tr><td>亮度</td> <td>亮度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>对比度</td> <td>对比度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>色相</td> <td>色相调整，单位为度（可选，0 为无调整）</td></tr> <tr><td>饱和度</td> <td>饱和度调整，范围 0 到无穷大（可选，1 为无调整）</td></tr> <tr><td>着色</td> <td>着色效果，接受颜色值（如 &quot;#ff0000&quot; 或 0xff0000）（可选）</td></tr> <tr><td>着色强度</td> <td>着色效果强度，范围 0 到 1（可选，0 为无着色，1 为完全着色）</td></tr> <tr><td>颜色矩阵滤镜</td> <td>自定义颜色矩阵滤镜对象（可选）</td></tr> <tr><td>合并颜色矩阵</td> <td>是否合并颜色矩阵滤镜（可选，默认 false）</td></tr> <tr><td>变换矩阵</td> <td>自定义变换矩阵，类型为 PixiPlugin.PixiMatrix（可选）</td></tr></tbody></table> <h2 id="添加滤镜"><a href="#添加滤镜" class="header-anchor">#</a> 添加滤镜</h2> <p>为指定目标添加滤镜，使用 PixiJS 滤镜实现。</p> <p><strong>备注</strong></p> <ul><li>滤镜动画可通过 <code>基本动画</code> 命令实现。</li></ul> <ul><li>可访问 <a href="https://pixijs.io/filters/examples/" target="_blank" rel="noopener noreferrer">PixiJS 滤镜示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 查看 Pixi 滤镜预设的画面表现。</li></ul> <h3 id="使用演示-4"><a href="#使用演示-4" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">添加滤镜</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;咸鱼&quot;</span><span class="token punctuation">,</span> 滤镜实例<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BlurFilter</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>滤镜应用的目标标识符，舞台的标识符为 0，背景的标识符为 1（必需）</td></tr> <tr><td>滤镜实例</td> <td>PixiJS 滤镜实例，需 economia 有效的 Filter 对象（必需）</td></tr></tbody></table> <h2 id="动效动画"><a href="#动效动画" class="header-anchor">#</a> 动效动画</h2> <p>为指定目标应用一段动效动画。</p> <p><strong>备注</strong></p> <ul><li>动效动画会独立于主动画序列同时运行，但同一时间只应运行一个动效动画。</li></ul> <h3 id="使用演示-5"><a href="#使用演示-5" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">动效动画</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;咸鱼&quot;</span><span class="token punctuation">,</span> 预设名称<span class="token operator">:</span> <span class="token string">&quot;摇晃&quot;</span><span class="token punctuation">,</span> <span class="token constant">Y</span>轴幅度<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>动画应用的目标标识符，舞台的标识符为 0，背景的标识符为 1（必需）</td></tr> <tr><td>预设名称</td> <td>动画名称，如 &quot;震动&quot; 或 &quot;摇晃&quot;（必需）</td></tr> <tr><td>持续时间</td> <td>动画持续时间，单位毫秒（必需）</td></tr> <tr><td>X 轴幅度</td> <td>横向动画幅度（可选，需至少提供 X 轴幅度 或 Y 轴幅度 之一）</td></tr> <tr><td>Y 轴幅度</td> <td>纵向动画幅度（可选，需至少提供 X 轴幅度 或 Y 轴幅度 之一）</td></tr></tbody></table> <h2 id="关闭图像"><a href="#关闭图像" class="header-anchor">#</a> 关闭图像</h2> <p>关闭指定的立绘或背景，支持淡出动画。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制图像消失时的淡出动画时长。</li> <li><code>作用目标</code> 可以是一个或多个标识符组成的数组，用于同时关闭多个图像。</li></ul> <h3 id="使用演示-6"><a href="#使用演示-6" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 关闭单个立绘</span>
$<span class="token punctuation">.</span><span class="token function">关闭图像</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;咸鱼&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 同时关闭多个立绘</span>
$<span class="token punctuation">.</span><span class="token function">关闭图像</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;咸鱼&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;鸽子&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>关闭图像的目标标识符或标识符数组，背景的标识符为 1（必需）</td></tr> <tr><td>持续时间</td> <td>淡出动画的持续时间，单位毫秒（可选，默认 225）</td></tr></tbody></table> <h2 id="清空立绘"><a href="#清空立绘" class="header-anchor">#</a> 清空立绘</h2> <p>移除所有立绘，支持淡出动画。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制立绘消失时的淡出动画时长。</li></ul> <h3 id="使用演示-7"><a href="#使用演示-7" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">清空立绘</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="设置配乐"><a href="#设置配乐" class="header-anchor">#</a> 设置配乐</h2> <p>设置背景音乐（BGM），使用 Howler 实现，支持音量、循环播放等属性。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制音量缓入缓出的持续时间。</li> <li>如果提供 <code>音量</code> 参数，音频将通过 <code>持续时间</code> 渐入到指定音量。</li> <li><code>音量</code>、<code>播放速度</code> 等参数不会在同一音轨上继承，需重新设置。</li></ul> <h3 id="使用演示-8"><a href="#使用演示-8" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置配乐</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/bgm01.mp3&quot;</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> 音量<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>音频的文件路径（必需）</td></tr> <tr><td>标识符</td> <td>音轨的标识符（可选，默认 &quot;bgm&quot;）</td></tr> <tr><td>持续时间</td> <td>音量缓入缓出时间，单位毫秒（可选，默认 0）</td></tr> <tr><td>音量</td> <td>音频的音量，范围 0 到 1（可选，默认 1）</td></tr> <tr><td>循环播放</td> <td>是否循环播放（可选，默认 true）</td></tr> <tr><td>播放速度</td> <td>音频播放速度，范围 0.5 到 4（可选，1 为无调整）</td></tr> <tr><td>使用 HTML5</td> <td>是否使用 HTML5 音频播放，适合大文件以减少加载时间（可选，默认自动选择）</td></tr></tbody></table> <h2 id="设置音效"><a href="#设置音效" class="header-anchor">#</a> 设置音效</h2> <p>设置音效（SE），使用 Howler 实现，支持音量、循环播放等属性。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制音量缓入缓出的持续时间。</li> <li>如果提供 <code>音量</code> 参数，音频将通过 <code>持续时间</code> 渐入到指定音量。</li> <li><code>音量</code>、<code>播放速度</code> 等参数不会在同一音轨上继承，需重新设置。</li></ul> <h3 id="使用演示-9"><a href="#使用演示-9" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置音效</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/se01.mp3&quot;</span><span class="token punctuation">,</span> 循环播放<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> 音量<span class="token operator">:</span> <span class="token number">0.7</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>音频的文件路径（必需）</td></tr> <tr><td>标识符</td> <td>音轨的标识符（可选，默认 &quot;se&quot;）</td></tr> <tr><td>持续时间</td> <td>音量缓入缓出时间，单位毫秒（可选，默认 0）</td></tr> <tr><td>音量</td> <td>音频的音量，范围 0 到 1（可选，默认 1）</td></tr> <tr><td>循环播放</td> <td>是否循环播放（可选，默认 false）</td></tr> <tr><td>播放速度</td> <td>音频播放速度，范围 0.5 到 4（可选，1 为无调整）</td></tr> <tr><td>使用 HTML5</td> <td>是否使用 HTML5 音频播放，适合大文件以减少加载时间（可选，默认自动选择）</td></tr></tbody></table> <h2 id="设置配音"><a href="#设置配音" class="header-anchor">#</a> 设置配音</h2> <p>设置角色配音（Clip），使用 Howler 实现，支持音量、播放速度等属性。</p> <p><strong>备注</strong></p> <ul><li>配音的音轨标识符固定为 &quot;clip&quot;。</li> <li>通常应使用 <code>对话</code> 命令设置配音，单独使用 <code>设置配音</code> 将不会记录到 Backlog。</li> <li><code>音量</code>、<code>播放速度</code> 等参数不会在同一音轨上继承，需重新设置。</li></ul> <h3 id="使用演示-10"><a href="#使用演示-10" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置配音</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/noi01.mp3&quot;</span><span class="token punctuation">,</span> 音量<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span> 播放速度<span class="token operator">:</span> <span class="token number">1.2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>音频的文件路径（必需）</td></tr> <tr><td>音量</td> <td>音频的音量，范围 0 到 1（可选，默认 1）</td></tr> <tr><td>播放速度</td> <td>音频播放速度，范围 0.5 到 4（可选，1 为无调整）</td></tr> <tr><td>使用 HTML5</td> <td>是否使用 HTML5 音频播放，适合大文件以减少加载时间（可选，默认自动选择）</td></tr></tbody></table> <h2 id="设置音量"><a href="#设置音量" class="header-anchor">#</a> 设置音量</h2> <p>设置指定音轨的音量，使用 Howler 实现，支持渐变过渡。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制音量渐变的过渡时间，未设置时音量立即应用。</li></ul> <h3 id="使用演示-11"><a href="#使用演示-11" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">设置音量</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;bgm&quot;</span><span class="token punctuation">,</span> 音量<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>音轨的标识符（必需）</td></tr> <tr><td>音量</td> <td>目标音量，范围 0 到 1（必需）</td></tr> <tr><td>持续时间</td> <td>音量渐变过渡时间，单位毫秒（可选）</td></tr></tbody></table> <h2 id="关闭音频"><a href="#关闭音频" class="header-anchor">#</a> 关闭音频</h2> <p>关闭指定音轨的音频，使用 Howler 实现，支持渐变淡出。</p> <p><strong>备注</strong></p> <ul><li><code>持续时间</code> 控制音量渐出的过渡时间，未设置时立即关闭。</li></ul> <h3 id="使用演示-12"><a href="#使用演示-12" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">关闭音频</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 作用目标<span class="token operator">:</span> <span class="token string">&quot;bgm&quot;</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>作用目标</td> <td>要关闭的音轨标识符（必需）</td></tr> <tr><td>持续时间</td> <td>音量渐出过渡时间，单位毫秒（可选）</td></tr></tbody></table> <h2 id="转场动画"><a href="#转场动画" class="header-anchor">#</a> 转场动画</h2> <p>播放一段转场动画。</p> <p><strong>备注</strong></p> <ul><li>转场动画用于场景切换，但不会自动处理背景或立绘的转场。</li></ul> <h3 id="使用演示-13"><a href="#使用演示-13" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">转场动画</span><span class="token punctuation">(</span><span class="token string">&quot;BlindH8&quot;</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>预设名称</td> <td>转场动画名称（如 &quot;BlindH8&quot;）</td></tr></tbody></table> <h2 id="播放视频"><a href="#播放视频" class="header-anchor">#</a> 播放视频</h2> <p>播放视频。</p> <h3 id="使用演示-14"><a href="#使用演示-14" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$$<span class="token punctuation">.</span><span class="token function">播放视频</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;/OP.mp4&quot;</span><span class="token punctuation">,</span> 允许跳过<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>视频的文件路径（必需）</td></tr> <tr><td>允许跳过</td> <td>是否允许用户跳过视频（可选，默认 true）</td></tr></tbody></table> <h2 id="用户输入"><a href="#用户输入" class="header-anchor">#</a> 用户输入</h2> <p>显示输入框并获取用户输入的文本。</p> <p><strong>返回值</strong></p> <ul><li>用户输入的文本</li></ul> <h3 id="使用演示-15"><a href="#使用演示-15" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> res <span class="token operator">=</span> $$<span class="token punctuation">.</span><span class="token function">用户输入</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 描述文本<span class="token operator">:</span> <span class="token string">&quot;请输入你的名字&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>描述文本</td> <td>输入框显示的提示文本（可选）</td></tr></tbody></table> <h2 id="用户选择"><a href="#用户选择" class="header-anchor">#</a> 用户选择</h2> <p>显示选项列表并获取用户所选项的标识符。</p> <p><strong>返回值</strong></p> <ul><li>用户所选项的标识符</li></ul> <h3 id="使用演示-16"><a href="#使用演示-16" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> label <span class="token operator">=</span> $$<span class="token punctuation">.</span><span class="token function">用户选择</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> 标识符<span class="token operator">:</span> <span class="token string">&quot;*そのまま渡す&quot;</span><span class="token punctuation">,</span> 描述文本<span class="token operator">:</span> <span class="token string">&quot;直接给她&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> 标识符<span class="token operator">:</span> <span class="token string">&quot;*振ってから渡す&quot;</span><span class="token punctuation">,</span> 描述文本<span class="token operator">:</span> <span class="token string">&quot;晃晃再给她&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>标识符</td> <td>选项的标识符（必需）</td></tr> <tr><td>描述文本</td> <td>选项显示的文本（必需）</td></tr> <tr><td>禁用</td> <td>是否禁用该选项（可选，默认 false）</td></tr></tbody></table> <h2 id="用户点击"><a href="#用户点击" class="header-anchor">#</a> 用户点击</h2> <p>等待用户点击。</p> <h3 id="使用演示-17"><a href="#使用演示-17" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$$<span class="token punctuation">.</span><span class="token function">用户点击</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="显示界面"><a href="#显示界面" class="header-anchor">#</a> 显示界面</h2> <p>显示或隐藏游戏的 UI 界面（如文本框、选项栏等）。</p> <p><strong>备注</strong></p> <ul><li>设置 <code>false</code> N 次，需相应设置 <code>true</code> N 次以复位。</li></ul> <h3 id="使用演示-18"><a href="#使用演示-18" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">显示界面</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>状态</td> <td><code>true</code> 为显示，<code>false</code> 为隐藏</td></tr></tbody></table> <h2 id="允许点击"><a href="#允许点击" class="header-anchor">#</a> 允许点击</h2> <p>允许或禁止用户点击以继续剧情。</p> <p><strong>备注</strong></p> <ul><li>设置 <code>false</code> N 次，需相应设置 <code>true</code> N 次以复位。</li></ul> <h3 id="使用演示-19"><a href="#使用演示-19" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">允许点击</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>状态</td> <td><code>true</code> 为允许，<code>false</code> 为禁止</td></tr></tbody></table> <h2 id="解锁鉴赏"><a href="#解锁鉴赏" class="header-anchor">#</a> 解锁鉴赏</h2> <p>解锁 CG 或其他鉴赏内容。</p> <p><strong>备注</strong></p> <ul><li>在默认情况下，设置背景、立绘、音频等时，将自动解锁相关鉴赏内容。</li></ul> <h3 id="使用演示-20"><a href="#使用演示-20" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">解锁鉴赏</span><span class="token punctuation">(</span><span class="token string">&quot;cg01.jpg&quot;</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>要解锁的 CG 或内容文件路径</td></tr></tbody></table> <h2 id="解锁成就"><a href="#解锁成就" class="header-anchor">#</a> 解锁成就</h2> <p>解锁指定成就。</p> <h3 id="使用演示-21"><a href="#使用演示-21" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">解锁成就</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>成就 ID</td> <td>成就的编号</td></tr></tbody></table> <h2 id="自动继续"><a href="#自动继续" class="header-anchor">#</a> 自动继续</h2> <p>自动进入下一幕，无需用户点击。</p> <h3 id="使用演示-22"><a href="#使用演示-22" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">自动继续</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="系统计时"><a href="#系统计时" class="header-anchor">#</a> 系统计时</h2> <p>等待指定时间。</p> <h3 id="使用演示-23"><a href="#使用演示-23" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$$<span class="token punctuation">.</span><span class="token function">系统计时</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>时间</td> <td>等待时间，单位毫秒</td></tr></tbody></table> <h2 id="结束剧情"><a href="#结束剧情" class="header-anchor">#</a> 结束剧情</h2> <p>结束剧情，停止后续执行。</p> <p><strong>备注</strong></p> <ul><li>在默认情况下，命令执行后将返回标题页。</li></ul> <h3 id="使用演示-24"><a href="#使用演示-24" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">结束剧情</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="嵌入页面"><a href="#嵌入页面" class="header-anchor">#</a> 嵌入页面</h2> <p>嵌入 iframe 页面，显示外部内容。</p> <p><strong>备注</strong></p> <ul><li>嵌入的页面需通过 <code>window.parent.postMessage</code> 发送结果，发送的数据将作为命令返回值。</li></ul> <p><strong>返回值</strong></p> <ul><li>页面发送的结果数据</li></ul> <h3 id="使用演示-25"><a href="#使用演示-25" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$$<span class="token punctuation">.</span><span class="token function">嵌入页面</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 资源路径<span class="token operator">:</span> <span class="token string">&quot;example.com&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>资源路径</td> <td>iframe 的 URL（必需）</td></tr></tbody></table> <h2 id="基本输入"><a href="#基本输入" class="header-anchor">#</a> 基本输入</h2> <p>执行自定义输入并返回结果。</p> <p><strong>备注</strong></p> <ul><li>如果程序的结果不是确定的，如获取日期、随机数或外部输入，可以使用此命令。</li></ul> <p><strong>返回值</strong></p> <ul><li>回调函数的结果</li></ul> <h3 id="使用演示-26"><a href="#使用演示-26" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$$<span class="token punctuation">.</span><span class="token function">基本输入</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>回调函数</td> <td>返回 Promise 的函数（必需）</td></tr></tbody></table> <h2 id="基本动画"><a href="#基本动画" class="header-anchor">#</a> 基本动画</h2> <p>为任意对象添加动画效果，使用 GSAP 实现。</p> <p><strong>备注</strong></p> <ul><li>可访问 <a href="https://gsap.com/resources/position-parameter" target="_blank" rel="noopener noreferrer">GSAP 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 查看 GSAP 位置参数用法。</li> <li>可访问 <a href="https://gsap.com/docs/v3/Eases/CustomEase" target="_blank" rel="noopener noreferrer">GSAP 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 查看 GSAP 缓动预设或创建自定义缓动曲线。</li> <li>参数值支持数值或字符串（如 &quot;+=100&quot;），<code>+=</code> 表示相对于当前值的增量，但并非所有参数支持此相对值语法。</li></ul> <h3 id="使用演示-27"><a href="#使用演示-27" class="header-anchor">#</a> 使用演示</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>$<span class="token punctuation">.</span><span class="token function">基本动画</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 目标<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 持续时间<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token string">&quot;+=100&quot;</span><span class="token punctuation">,</span> opacity<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>目标</td> <td>动画应用的目标对象，接受 GSAP 支持的 TweenTarget（必需）</td></tr> <tr><td>模式</td> <td>动画模式，&quot;from&quot; 表示从指定值开始，&quot;to&quot; 表示到指定值结束（可选，默认 &quot;to&quot;）</td></tr> <tr><td>持续时间</td> <td>动画持续时间，单位毫秒（可选，默认 0）</td></tr> <tr><td>缓动函数</td> <td>动画缓动函数，支持 GSAP 缓动预设、缓动曲线或函数（可选，默认 &quot;none&quot;）</td></tr> <tr><td>重复次数</td> <td>动画重复播放的次数（可选，-1 为无限循环）</td></tr> <tr><td>往返播放</td> <td>是否在动画完成后反向播放（可选，默认 false）</td></tr> <tr><td>标识符</td> <td>动画序列的标识符，针对同一标识符的多个动画将按顺序执行（可选，默认与目标参数值相同）</td></tr> <tr><td>位置</td> <td>动画在 GSAP 动画序列中的位置，可传入符合 GSAP 位置参数要求的值（可选）</td></tr> <tr><td>动画属性</td> <td>目标对象的任意属性，如 scale、opacity 等</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/scenario/example.html" class="prev">
        参考示例
      </a></span> <span class="next"><a href="/guide/scenario/code.html">
        JavaScript 基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.17999bae.js" defer></script><script src="/assets/js/2.81c34002.js" defer></script><script src="/assets/js/1.9918cdf1.js" defer></script><script src="/assets/js/29.57458f44.js" defer></script>
  </body>
</html>
